<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.example.mapper.BoardMapper">
	
	<select id="selectBoardList" resultType="Board">
		SELECT row_number() over() AS rnum, b_id, b_title, b_content, b_writer, b_hit
		FROM board 
		ORDER BY b_id ASC LIMIT #{start}, #{end}
	</select>
	
	<select id="selectBoardTotalCount" resultType="int">
		SELECT 
			COUNT(*)
		FROM
			board
	
	</select>
	
	<!--board 입력 -->
	
	<insert id="boardWrite" parameterType="Board">
		INSERT INTO board 
			(
			b_title,
			b_content,
			b_writer,
			b_date,
			b_hit
		)VALUES(
			#{b_title},
			#{b_content},
			#{b_writer},
			sysdate(),
			#{b_hit}
		)
	
	</insert>
	
	<!-- board Detail -->
	
	<select id="getDetail" parameterType="String" resultType="Board">
		SELECT *
		FROM board
		WHERE b_id = #{b_id}
	
	</select>
	
	
	<!-- Board Delete -->
	<delete id="boardDelete" parameterType="String">
		DELETE 
		FROM board
		WHERE b_id = #{b_id}
	</delete>
	
	<!-- Board Update -->
	<update id="boardUpdate" parameterType="Board">
		UPDATE board
		SET
			b_title = #{b_title},
			b_content = #{b_content},
			b_hit = #{b_hit}
		WHERE
			b_id = #{b_id}
	
	</update>
	
	<!-- hit update -->
	<update id="updateHit" parameterType="String">
		UPDATE board SET b_hit = b_hit + 1
		WHERE b_id = #{b_id}
	
	</update>
	
	
	
	
</mapper>
<!-- DB에서 쿼리문 -->